<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expression Functions - JavaScript Demo</title>
    <link rel="stylesheet" href="common-styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Expression Functions</h1>
            <p>Functions stored in variables and anonymous functions</p>
        </div>
        
        <div class="content">
            <div class="demo-section">
                <h3>Function Expression</h3>
                <div class="code-block">
const multiply = function(a, b) {
    return a * b;
};

const divide = function(a, b) {
    return b !== 0 ? a / b : "Cannot divide by zero";
};
                </div>
                <div class="input-group">
                    <input type="number" id="num1" placeholder="First Number" value="15">
                    <input type="number" id="num2" placeholder="Second Number" value="3">
                    <button class="btn" onclick="performOperations()">Calculate</button>
                </div>
                <div class="output" id="operationOutput"></div>
            </div>

            <div class="demo-section">
                <h3>Anonymous Function in Event Handler</h3>
                <div class="code-block">
document.getElementById('colorBtn').addEventListener('click', function() {
    const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#feca57'];
    const randomColor = colors[Math.floor(Math.random() * colors.length)];
    document.body.style.background = randomColor;
});
                </div>
                <button class="btn" id="colorBtn">Change Background Color</button>
                <div class="output" id="colorOutput">Click the button to change background!</div>
            </div>

            <div class="demo-section">
                <h3>Function Expression with Conditional Logic</h3>
                <div class="code-block">
const getGrade = function(score) {
    if (score >= 90) return 'A';
    else if (score >= 80) return 'B';
    else if (score >= 70) return 'C';
    else if (score >= 60) return 'D';
    else return 'F';
};

const getGradeMessage = function(score) {
    const grade = getGrade(score);
    return `Score: ${score} - Grade: ${grade}`;
};
                </div>
                <div class="input-group">
                    <input type="number" id="scoreInput" placeholder="Enter score (0-100)" value="85" min="0" max="100">
                    <button class="btn" onclick="calculateGrade()">Get Grade</button>
                </div>
                <div class="output" id="gradeOutput"></div>
            </div>

            <div class="demo-section">
                <h3>Function Expression for Array Processing</h3>
                <div class="code-block">
const processNumbers = function(numbers, operation) {
    return numbers.map(operation);
};

const square = function(x) { return x * x; };
const cube = function(x) { return x * x * x; };
const double = function(x) { return x * 2; };
                </div>
                <div class="input-group">
                    <input type="text" id="numbersInput" placeholder="Enter numbers (comma separated)" value="1,2,3,4,5">
                    <select id="operationSelect">
                        <option value="square">Square</option>
                        <option value="cube">Cube</option>
                        <option value="double">Double</option>
                    </select>
                    <button class="btn" onclick="processArray()">Process Array</button>
                </div>
                <div class="output" id="arrayOutput"></div>
            </div>
        </div>

        <div class="navigation">
            <a href="user-defined-functions.html" class="nav-link">← User Defined</a>
            <a href="arrow-functions.html" class="nav-link">Arrow Functions →</a>
            <a href="iife.html" class="nav-link">IIFE</a>
            <a href="higher-order-functions.html" class="nav-link">Higher Order</a>
        </div>
    </div>

    <script>
        // Function Expressions
        const multiply = function(a, b) {
            return a * b;
        };

        const divide = function(a, b) {
            return b !== 0 ? a / b : "Cannot divide by zero";
        };

        const getGrade = function(score) {
            if (score >= 90) return 'A';
            else if (score >= 80) return 'B';
            else if (score >= 70) return 'C';
            else if (score >= 60) return 'D';
            else return 'F';
        };

        const getGradeMessage = function(score) {
            const grade = getGrade(score);
            return `Score: ${score} - Grade: ${grade}`;
        };

        const processNumbers = function(numbers, operation) {
            return numbers.map(operation);
        };

        const square = function(x) { return x * x; };
        const cube = function(x) { return x * x * x; };
        const double = function(x) { return x * 2; };

        // Demo Functions
        function performOperations() {
            const num1 = parseFloat(document.getElementById('num1').value);
            const num2 = parseFloat(document.getElementById('num2').value);
            
            if (isNaN(num1) || isNaN(num2)) {
                document.getElementById('operationOutput').innerHTML = "Please enter valid numbers!";
                return;
            }
            
            const multiplyResult = multiply(num1, num2);
            const divideResult = divide(num1, num2);
            
            document.getElementById('operationOutput').innerHTML = 
                `${num1} × ${num2} = ${multiplyResult}<br>${num1} ÷ ${num2} = ${divideResult}`;
        }

        function calculateGrade() {
            const score = parseInt(document.getElementById('scoreInput').value);
            
            if (isNaN(score) || score < 0 || score > 100) {
                document.getElementById('gradeOutput').innerHTML = "Please enter a valid score (0-100)!";
                return;
            }
            
            const result = getGradeMessage(score);
            document.getElementById('gradeOutput').innerHTML = result;
        }

        function processArray() {
            const input = document.getElementById('numbersInput').value;
            const operation = document.getElementById('operationSelect').value;
            
            try {
                const numbers = input.split(',').map(num => parseFloat(num.trim()));
                
                if (numbers.some(isNaN)) {
                    document.getElementById('arrayOutput').innerHTML = "Please enter valid numbers!";
                    return;
                }
                
                let operationFunc;
                switch(operation) {
                    case 'square': operationFunc = square; break;
                    case 'cube': operationFunc = cube; break;
                    case 'double': operationFunc = double; break;
                }
                
                const result = processNumbers(numbers, operationFunc);
                document.getElementById('arrayOutput').innerHTML = 
                    `Original: [${numbers.join(', ')}]<br>After ${operation}: [${result.join(', ')}]`;
                    
            } catch (error) {
                document.getElementById('arrayOutput').innerHTML = "Error processing numbers!";
            }
        }

        // Anonymous function for color change
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('colorBtn').addEventListener('click', function() {
                const colors = ['linear-gradient(135deg, #667eea 0%, #764ba2 100%)', 
                               'linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 100%)',
                               'linear-gradient(135deg, #45b7d1 0%, #96ceb4 100%)',
                               'linear-gradient(135deg, #feca57 0%, #ff9ff3 100%)',
                               'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)'];
                const randomColor = colors[Math.floor(Math.random() * colors.length)];
                document.body.style.background = randomColor;
                document.getElementById('colorOutput').innerHTML = "Background changed using anonymous function!";
            });
            
            // Initialize with default values
            performOperations();
            calculateGrade();
            processArray();
        });
    </script>
</body>
</html>