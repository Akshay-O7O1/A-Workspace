<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Tracking - Bite Box</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/tracking.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">
                <img src="images/logo.png" alt="Bite Box Logo" class="logo-img me-2">
                Bite Box
            </a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="index.html">
                    <i class="fas fa-home me-1"></i>Home
                </a>
                <a class="nav-link" href="my-orders.html">
                    <i class="fas fa-list me-1"></i>My Orders
                </a>
            </div>
        </div>
    </nav>

    <!-- Order Tracking Section -->
    <section class="py-5">
        <div class="container">
            <!-- Order Header -->
            <div class="row mb-4">
                <div class="col-12">
                    <div class="card shadow">
                        <div class="card-body">
                            <div class="row align-items-center">
                                <div class="col-md-8">
                                    <h3 class="mb-2">Order #<span id="order-id">AK12345</span></h3>
                                    <p class="text-muted mb-0">
                                        Placed on <span id="order-date">January 15, 2025</span> | 
                                        Total: â‚¹<span id="order-total">599</span>
                                    </p>
                                </div>
                                <div class="col-md-4 text-md-end">
                                    <span class="badge bg-success fs-6 p-2" id="order-status">Out for Delivery</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <!-- Tracking Timeline -->
                <div class="col-lg-8">
                    <div class="card shadow">
                        <div class="card-header bg-primary text-white">
                            <h5 class="mb-0"><i class="fas fa-route me-2"></i>Order Tracking</h5>
                        </div>
                        <div class="card-body">
                            <!-- Progress Steps -->
                            <div class="tracking-timeline">
                                <div class="tracking-step completed" data-step="1">
                                    <div class="step-icon">
                                        <i class="fas fa-check"></i>
                                    </div>
                                    <div class="step-content">
                                        <h6>Order Confirmed</h6>
                                        <p class="text-muted mb-0">Your order has been confirmed</p>
                                        <small class="text-success">Completed at 2:30 PM</small>
                                    </div>
                                </div>

                                <div class="tracking-step completed" data-step="2">
                                    <div class="step-icon">
                                        <i class="fas fa-utensils"></i>
                                    </div>
                                    <div class="step-content">
                                        <h6>Preparing Food</h6>
                                        <p class="text-muted mb-0">Our chefs are preparing your delicious meal</p>
                                        <small class="text-success">Completed at 2:45 PM</small>
                                    </div>
                                </div>

                                <div class="tracking-step active" data-step="3">
                                    <div class="step-icon">
                                        <i class="fas fa-motorcycle"></i>
                                    </div>
                                    <div class="step-content">
                                        <h6>Out for Delivery</h6>
                                        <p class="text-muted mb-0">Your order is on the way!</p>
                                        <small class="text-primary">Started at 3:00 PM</small>
                                    </div>
                                </div>

                                <div class="tracking-step" data-step="4">
                                    <div class="step-icon">
                                        <i class="fas fa-home"></i>
                                    </div>
                                    <div class="step-content">
                                        <h6>Delivered</h6>
                                        <p class="text-muted mb-0">Order delivered successfully</p>
                                        <small class="text-muted">Estimated: 3:15 PM</small>
                                    </div>
                                </div>
                            </div>

                            <!-- Live Tracking Map -->
                            <div class="mt-4">
                                <h6 class="mb-3">Live Tracking</h6>
                                <div id="tracking-map" style="height: 400px; border-radius: 10px;"></div>
                            </div>

                            <!-- Delivery Person Info -->
                            <div class="delivery-info mt-4 p-3 bg-light rounded">
                                <div class="row align-items-center">
                                    <div class="col-md-2 text-center">
                                        <img src="images/delivery-person.jpg" alt="Delivery Person" class="rounded-circle" width="60" height="60">
                                    </div>
                                    <div class="col-md-6">
                                        <h6 class="mb-1">Rahul Kumar</h6>
                                        <p class="text-muted mb-0">Your Delivery Partner</p>
                                        <small class="text-success">
                                            <i class="fas fa-star"></i> 4.8 Rating
                                        </small>
                                    </div>
                                    <div class="col-md-4 text-md-end">
                                        <button class="btn btn-outline-primary btn-sm me-2" id="call-delivery">
                                            <i class="fas fa-phone me-1"></i>Call
                                        </button>
                                        <button class="btn btn-outline-success btn-sm" id="chat-delivery">
                                            <i class="fas fa-comment me-1"></i>Chat
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Order Details -->
                <div class="col-lg-4">
                    <div class="card shadow sticky-top">
                        <div class="card-header bg-success text-white">
                            <h6 class="mb-0"><i class="fas fa-receipt me-2"></i>Order Details</h6>
                        </div>
                        <div class="card-body">
                            <div id="order-items-list">
                                <!-- Order items will be loaded here -->
                            </div>
                            
                            <hr>
                            
                            <!-- Delivery Address -->
                            <div class="mb-3">
                                <h6><i class="fas fa-map-marker-alt me-2"></i>Delivery Address</h6>
                                <p class="text-muted mb-0" id="delivery-address">
                                    123 Main Street, Apartment 4B<br>
                                    New Delhi, 110001<br>
                                    Near Metro Station
                                </p>
                            </div>

                            <hr>

                            <!-- Estimated Delivery -->
                            <div class="text-center">
                                <h6 class="text-success">Estimated Delivery</h6>
                                <div class="countdown-timer">
                                    <span id="countdown">15:30</span>
                                </div>
                                <small class="text-muted">minutes remaining</small>
                            </div>

                            <!-- Action Buttons -->
                            <div class="mt-3">
                                <button class="btn btn-outline-primary w-100 mb-2" id="reorder-btn">
                                    <i class="fas fa-redo me-2"></i>Reorder
                                </button>
                                <button class="btn btn-outline-danger w-100" id="help-btn">
                                    <i class="fas fa-question-circle me-2"></i>Need Help?
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Chat Modal -->
    <div class="modal fade" id="chatModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Chat with Rahul</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="chat-messages" style="height: 300px; overflow-y: auto;">
                        <div class="chat-message delivery-message">
                            <strong>Rahul:</strong> Hi! I'm on my way with your order. ETA 15 minutes.
                        </div>
                    </div>
                    <div class="input-group mt-3">
                        <input type="text" class="form-control" id="chat-input" placeholder="Type your message...">
                        <button class="btn btn-primary" id="send-message">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY"></script>
    <script src="js/tracking.js"></script>
</body>
</html>